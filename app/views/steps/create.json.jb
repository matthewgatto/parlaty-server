def visual_check(step)
	if (step.has_visual)
        url_for(step.visuals.first)
	else
		nil
	end
end

json = {
  id: @step.id,
  title: @step.title,
  device_id: @step.device_id,
  safety: @step.safety,
  spoken: @step.spoken,
  location: @step.location,
  note: @step.note,
  visual: visual_check(@step),
  mode: @step.mode,
  time: @step.time,
  has_visual: @step.has_visual
}

json
