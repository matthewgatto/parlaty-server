import merge from 'lodash/merge';
import * as types from '../../types/device'
import * as authTypes from '../../types/auth';

const initialDeviceMap = {"1":{"id":1,"name":"Crank Handle","actions":[{"id":1,"name":"Crank Action One","device_id":1,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":2,"name":"Crank Action Two","device_id":1,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":3,"name":"Crank Action Three","device_id":1,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"2":{"id":2,"name":"Part with Lock","actions":[{"id":4,"name":"Part Action One","device_id":2,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":5,"name":"Part Action Two","device_id":2,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":6,"name":"Part Action Three","device_id":2,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"3":{"id":3,"name":"Blowtorch","actions":[{"id":7,"name":"Blowtorch Action One","device_id":3,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":8,"name":"Blowtorch Action Two","device_id":3,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":9,"name":"Blowtorch Action Three","device_id":3,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"4":{"id":4,"name":"Pressure Washer","actions":[{"id":10,"name":"Pressure Action One","device_id":4,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":11,"name":"Pressure Action Two","device_id":4,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":12,"name":"Pressure Action Three","device_id":4,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"5":{"id":5,"name":"Wrench","actions":[{"id":13,"name":"Wrench Action One","device_id":5,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":14,"name":"Wrench Action Two","device_id":5,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":15,"name":"Wrench Action Three","device_id":5,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"6":{"id":6,"name":"Radiator (heating)","actions":[{"id":16,"name":"Radiator Action One","device_id":6,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":17,"name":"Radiator Action Two","device_id":6,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":18,"name":"Radiator Action Three","device_id":6,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"7":{"id":7,"name":"Gas Appliance","actions":[{"id":19,"name":"Gas Action One","device_id":7,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":20,"name":"Gas Action Two","device_id":7,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":21,"name":"Gas Action Three","device_id":7,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"8":{"id":8,"name":"Futon Dryer","actions":[{"id":22,"name":"Futon Action One","device_id":8,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":23,"name":"Futon Action Two","device_id":8,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":24,"name":"Futon Action Three","device_id":8,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"9":{"id":9,"name":"Domestic Robot","actions":[{"id":25,"name":"Domestic Action One","device_id":9,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":26,"name":"Domestic Action Two","device_id":9,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":27,"name":"Domestic Action Three","device_id":9,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"10":{"id":10,"name":"Electric Water Boiler","actions":[{"id":28,"name":"Electric Action One","device_id":10,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":29,"name":"Electric Action Two","device_id":10,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":30,"name":"Electric Action Three","device_id":10,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"11":{"id":11,"name":"Hob (hearth)","actions":[{"id":31,"name":"Hob Action One","device_id":11,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":32,"name":"Hob Action Two","device_id":11,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":33,"name":"Hob Action Three","device_id":11,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"12":{"id":12,"name":"Dish Draining Closet","actions":[{"id":34,"name":"Dish Action One","device_id":12,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":35,"name":"Dish Action Two","device_id":12,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":36,"name":"Dish Action Three","device_id":12,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"13":{"id":13,"name":"Micathermic Heater","actions":[{"id":37,"name":"Micathermic Action One","device_id":13,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":38,"name":"Micathermic Action Two","device_id":13,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":39,"name":"Micathermic Action Three","device_id":13,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"14":{"id":14,"name":"Oven","actions":[{"id":40,"name":"Oven Action One","device_id":14,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":41,"name":"Oven Action Two","device_id":14,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":42,"name":"Oven Action Three","device_id":14,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"15":{"id":15,"name":"HVAC","actions":[{"id":43,"name":"HVAC Action One","device_id":15,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":44,"name":"HVAC Action Two","device_id":15,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":45,"name":"HVAC Action Three","device_id":15,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]},"16":{"id":16,"name":"Mangle (machine)","actions":[{"id":46,"name":"Mangle Action One","device_id":16,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":47,"name":"Mangle Action Two","device_id":16,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"},{"id":48,"name":"Mangle Action Three","device_id":16,"created_at":"2020-01-23T08:03:03.000Z","updated_at":"2020-01-23T08:03:03.000Z"}]}}


export default (state = initialDeviceMap, {type,payload}) => {
  switch (type) {
    /*
    case authTypes.CREATE_AUTH_REQUEST__SUCCESS:
      if(!payload.devices){
        return state;
      }
    */
    case types.FETCH_DEVICES_REQUEST__SUCCESS:
    case types.CREATE_DEVICE_REQUEST__SUCCESS:
      return merge({}, state, payload.devices)
    case types.UPDATE_DEVICE_REQUEST__SUCCESS:
      return {
        ...state,
        [payload.id]: payload
      }
    default:
      return state
  }
}
